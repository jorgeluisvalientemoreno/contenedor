DECLARE

  nuconta NUMBER;
  nuErrorCode NUMBER;
  sbErrorMessage VARCHAR2(4000);
  
BEGIN

    
	dbms_output.put_Line('INICIO');
	dbms_output.put_Line('-------------------------------------');
	
    SELECT COUNT(*) INTO nuconta
    FROM Dba_tables
    WHERE TABLE_NAME = UPPER('HOMOESTAPR') ;
	
	
	IF nuconta = 0 THEN 
      
		dbms_output.put_line('Creando tabla HOMOLOGACION.HOMOESTAPR');
		-- Create table
	    EXECUTE IMMEDIATE  'CREATE TABLE HOMOLOGACION.HOMOESTAPR (
							ESTNCODI	NUMBER(10),
							ESFICODI	NUMBER(10),
							ESPRHOMO	NUMBER(10),
							ESCOHOMO	NUMBER(10),
							ESFNHOMO	VARCHAR2(1)
							)';
							
		-- Add comments to the table							
		EXECUTE IMMEDIATE 'COMMENT ON TABLE HOMOLOGACION.HOMOESTAPR IS ''HOMOLOGACION ESTADO TECNICO ESTADO PRODUCTO GASPLUS OSF''';					
							
		-- Add comments to the columns 
		EXECUTE IMMEDIATE 'COMMENT ON COLUMN HOMOLOGACION.HOMOESTAPR.ESTNCODI IS ''CODIGO ESTADO TECNICO GASPLUS''';
		EXECUTE IMMEDIATE 'COMMENT ON COLUMN HOMOLOGACION.HOMOESTAPR.ESFICODI IS ''CODIGO ESTADO FINANCIERO GASPLUS''';
		EXECUTE IMMEDIATE 'COMMENT ON COLUMN HOMOLOGACION.HOMOESTAPR.ESPRHOMO IS ''CODIGO ESTADO PRODUCTO HOMOLOGADO''';
		EXECUTE IMMEDIATE 'COMMENT ON COLUMN HOMOLOGACION.HOMOESTAPR.ESCOHOMO IS ''CODIGO ESTADO CORTE HOMOLOGADO''';
		EXECUTE IMMEDIATE 'COMMENT ON COLUMN HOMOLOGACION.HOMOESTAPR.ESFNHOMO IS ''CODIGO ESTADO FINANCIERO HOMOLOGADO''';


    END IF;
    dbms_output.put_Line('-------------------------------------');
    dbms_output.put_Line('FIN');


EXCEPTION
  WHEN OTHERS THEN
    dbms_output.put_line('ERROR: ' || SQLERRM);
    ROLLBACK;
	
END;
/