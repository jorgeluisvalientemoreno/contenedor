column dt new_value vdt
column db new_value vdb
select to_char(sysdate,'yyyymmdd_hh24miss') dt, sys_context('userenv','db_name') db from dual;
set serveroutput on size unlimited
execute dbms_application_info.set_action('APLICANDO DATAFIX');
select to_char(sysdate,'yyyy-mm-dd hh:mi:ss p.m.') fecha_inicio from dual;

declare

	sbCaso				VARCHAR2(30) := 'OSF-4085';
	rcContratosBloqueo	DALD_quota_block.styLD_quota_block;
	
	CURSOR cuContratos
	IS
		SELECT susccodi
		FROM suscripc  
		WHERE susccodi IN (48147744, 48147705,
48147696,
48147708,
48147692,
48147689,
48147812,
48147804,
48147800,
48147775,
48147792,
67029362,
48147768,
48147764,
48177251,
48147754,
48147788,
48149095,
48147751,
48147740,
48147784,
48147746,
48147745,
66552148,
48147747,
48148586,
48149136,
48147761,
48179264,
48147772,
48147797,
48147722,
48147724,
48147728,
48148585,
48147732,
48147742,
48147739,
48205942,
67388480,
67401729,
67388518,
67388332,
67398103,
67388474,
67388159,
48173703,
48147646,
48198333,
66735791,
66735797,
48191202,
48115876,
48105433,
48025029,
48098617,
67472697,
67472394,
48114272,
48166717,
48166716,
48167083,
48166715,
48167980,
66290460,
67389982,
67388528,
67389999,
67444552,
67407343,
67588773,
67588764,
67588776,
67589010,
67404088,
67401696,
67482021,
67483272,
67483846,
67627988,
67627997,
67628003,
67631348,
67628824,
67631345,
67099363,
67099368,
67099369,
67099371,
67099372,
67099373,
67099374,
67099375,
67099379,
67458382,
67434314,
67482747,
67443458,
67413421,
67418563,
67415908,
67405700,
67483245,
67404231,
67416780,
67416784,
67457254,
67415203,
67416773,
67408073,
67456564,
67505626,
67451957,
67461905,
67459162,
67526969,
67526962,
67435121,
67404353,
67451782,
67405691,
67404240,
67413062,
67413160,
67457261,
67435492,
67443108,
67464446,
67463317,
67464521,
67458647,
67458590,
67458536,
67444886,
67458566,
67443658,
67443652,
67483022,
67600091,
48167138,
48166712,
48166714,
48166711,
48058790,
67227756,
11001847,
67071879,
67071896,
67071872,
11001487,
48202350,
11001536,
67088405,
48135857,
66300513,
11001900,
67538370,
11001645,
67454335,
11001768,
48224525,
11001761,
48103823,
48231449,
48086887,
66563988,
11002493,
48081612,
48008961,
48123349,
11001081,
11001336,
48090968,
11000487,
11001985,
67077393,
67061291,
11001282,
11000718,
11000736,
48015247,
11002578,
11000938,
11000724,
67550049,
48028077,
11000700,
67133304,
67133035,
11002534,
48102745,
66316467,
11002158,
11001175,
66318633,
11001973,
11000577,
11001982,
66996362,
48015430,
11000760,
66303709,
66621878,
66634214,
11000991,
48249186,
66669363,
11000701,
11001495,
48145880,
66498438,
48221589,
48099436,
48092433,
48155557,
67242746,
11001502,
11002367,
11001472,
48189520,
48179292,
11002500,
11002120,
48117207,
48180384,
48199856,
48110592,
48235153,
11002119,
48253273,
48252686,
48148322,
48245290,
48150689,
48150688,
48149091,
48211685,
48148560,
66689987,
48152125,
66689526,
66668437,
48148326,
66907352,
66907263,
67578873,
67578865,
48148325,
48148324,
48160266,
48148559,
48255479,
48150445,
67138983,
48148297,
48242285,
48152276,
48250274,
48243247,
66591102,
66591111,
48243636,
66854106,
67140721,
67140607,
67148979,
48152363,
48152278,
48152878,
66429855,
48148300,
48148289,
48148290,
48152883,
67117954,
48148301,
48205026,
48148285,
48148288,
48148296,
48148320,
66509760,
48148313,
48148321,
48149093,
48184415,
48152061,
48149234,
48148312,
48148319,
48148311,
48148314,
67472296,
48148298,
67467006,
66625134,
48236517,
48148394,
48148286,
48149316,
66884497,
48148284,
48148283,
48149315,
48148558,
48231259,
48148287,
48231077,
48148547,
48148291,
48148554,
48148292,
48247644,
48148293,
67092641,
48148390,
48189440,
67446633,
66421493,
48148549,
48161663,
48148397,
48148391,
66491476,
66391741,
48149306,
48148395,
48148392,
48148398,
48148393,
66757668,
48148548,
48148317,
67443381,
48232786,
48148316,
48150509,
48182265,
48147966,
48149089,
48246477,
48149651,
48147923,
66820660,
48147949,
48149300,
48147922,
48147921,
48147920,
48147919,
48147918,
48148809,
48148810,
48147969,
48170902,
48147917,
67615724,
48152130,
48170984,
48210522,
48147997,
67443377,
48206998,
48147915,
48196698,
48147916,
48148083,
48148081,
48148800,
48148079,
48148077,
48212713,
48212711,
48171573,
67434459,
48211663,
48150571,
48196084,
48148074,
48147940,
48147944,
48148803,
48147939,
48196695,
48231885,
48147941,
48147942,
48147925,
48147924,
48149270,
48147946,
48148805,
48148804,
48147951,
48172862,
48171581,
48148082,
48147953,
48171538,
67469488,
48147956,
48227545,
48148811,
48173518,
66575172,
48187311,
48149229,
66593876,
48150560,
48147673,
48151965,
48168281,
48147674,
48150208,
48152358,
48147676,
48198869,
48230738,
48152176,
66897753,
48149237,
66418836,
48173200,
48149241,
48172395,
48147677,
48150557,
48147678,
48148566,
48147663,
48147664,
48147665,
48147667,
48196242,
48147669,
48147670,
48147671,
66763031,
48147668,
48150692,
66523125,
48149277,
48147688,
48147686,
48147672,
48147691,
48147959,
48147964,
48147965,
66493272,
48149226,
48243276,
48148754,
66922617,
48150555,
48225014,
48225016,
67652513,
48240542,
48149297,
67004588,
67125376,
48148752,
48148753,
48150841,
48147694,
48149799,
48147685,
48147684,
48147681,
48147682,
48149217,
48167760,
67469878,
48150133,
48150711,
66567394,
67165024,
48148570,
48149543,
48149216,
48148749,
48170416,
66563669,
48214971,
66461858,
48184414,
48148748,
48149764,
48147706,
48167762,
48147697,
48150209,
67483460,
48152360,
48148750,
48188831,
48188832,
48148751,
67463618,
67463359,
48164652,
66492253,
66444926,
48147851,
48147853,
48147856,
48148086,
66353816,
48152877,
48232088,
48147829,
48147861,
48168948,
67266738,
48147863,
48147866,
67231315,
48148571,
48151955,
48169626,
48212712,
48147869,
48147870,
48151100,
67466741,
67463536,
48147872,
48151956,
48149287,
48147875,
48169628,
48148020,
48147996,
48147994,
66865099,
48148402,
48147832,
48148005,
67051524,
66988302,
67463697,
66749664,
48148001,
66565120,
48147999,
48147840,
48147842,
48148401,
48148399,
66814789,
66644955,
66810499,
48150210,
48147846,
48147848,
66321309,
48168945,
48148992,
48147773,
67031014,
66500030,
48148012,
48148011,
48148010,
48179273,
48164113,
48148008,
67463180,
48191873,
48147837,
67463683,
67463663,
48147834,
48151964,
66717617,
48148006,
66747850,
48171719,
48148403,
48150131,
48148019,
48148018,
48148017,
48148016,
48182263,
48149544,
48170983,
48170054,
48148014,
48157640,
48150130,
48148013,
48170779,
48172397,
48148982,
48149546,
66567428,
48148988,
67588352,
48149222,
48202012,
48147976,
48150200,
48148984,
48150201,
48148990,
48167764,
48235330,
48151958,
48213122,
67473595,
48150559,
48169874,
48172398,
48171448,
66312025,
48150663,
48147750,
48163429,
48147758,
48147755,
48147759,
48147974,
48179354,
48150103,
48147762,
48147765,
66949439,
48147770,
48150145,
48171360,
48150440,
48150556,
48171479,
48147781,
67453478,
67443145,
48152361,
48147785,
48152229,
67446507,
48147794,
48147789,
48147806,
48147809,
48147798,
67451951,
48201169,
48148985,
48150570,
48152065,
66362476,
67444240,
48147803,
48148206,
48148084,
67355469,
48196696,
48148111,
67458335,
66713148,
48193521,
48224550,
48148108,
48148112,
48148105,
48148109,
48148104,
48189753,
48148100,
48169844,
48148097,
66311688,
48148258,
48148094,
48171367,
48170743,
48148085,
48148261,
48176959,
48150143,
48148772,
67443757,
48148089,
48239883,
48148090,
48150132,
66286730,
48169827,
48150202,
48147979,
67458634,
48147799,
48150442,
48169879,
67096764,
48148058,
48147972,
48147970,
67328184,
48150144,
48244555,
48150204,
48148208,
66856624,
48148207,
66346445,
48148265,
67363079,
66597196,
48148087,
48155794,
48148263,
48250172,
66461045,
66591435,
48148262,
66379764,
67485336,
48148096,
48147960,
48191061,
48147961,
48147962,
48180080,
67098086,
48148770,
48148768,
67527686,
66677352,
48148199,
66818933,
48148156,
67444189,
67463633,
67206458,
48171365,
48148191,
48148986,
48147968,
67364833,
67458770,
67459563,
48150117,
66560733,
48147910,
48148355,
48148211,
48148209,
67469690,
48148190,
48148771,
48148182,
66897849,
48170417,
48170987,
66467435,
48252577,
67132940,
48202878,
48147963,
48148136,
48148135,
48148146,
48198868,
48170986,
48169828,
48148224,
48148223,
48148217,
48148215,
66427475,
48148213,
48150438,
48161846,
66913990,
67397903,
66455830,
48147860,
66490968,
48147884,
48170057,
48170055,
67372601,
48147908,
48151946,
48148356,
67444187,
48148357,
48147867,
67443111,
48167097,
48147865,
67242680,
67012362,
67442160,
48147824,
48149021,
48152127,
48147858,
48210104,
48147873,
48168928,
48149540,
48147838,
67443259,
67463719,
48147845,
48188133,
48148358,
48147855,
48147905,
48147904,
67379923,
48147835,
48147876,
48147907,
48147906,
67292789,
66412316,
66414328,
48147830,
48147850,
66409484,
66409525,
66409718,
66409601,
66399129,
66409733,
66409613,
67372538,
66399019,
66398969,
66399133,
66676701,
66398489,
66410512,
66398439,
66403227,
48147827,
48147903,
48147879,
48148360,
66398258,
66412302,
66398447,
66398394,
66398463,
66398505,
66398244,
66398998,
67522055,
66398960,
66398951,
66399010,
66399138,
66398934,
66399014,
66409531,
66398942,
66398919,
66409706,
66398889,
66398872,
66398863,
66402801,
66402781,
66409543,
48147888,
48147891,
48148359,
66402533,
66398223,
66410537,
66398041,
66402513,
66402809,
66402525,
66409585,
66409693,
66398857,
66398849,
66398845);

BEGIN

	dbms_output.put_line('Inicio Datafix OSF-4085');
	
	FOR rcContratos IN cuContratos LOOP
		
		dbms_output.put_line('Creando bloqueo del contrato: ' || rcContratos.susccodi);
			
		-- Llena el registro de los contratos
		rcContratosBloqueo.Quota_Block_Id 	:= SEQ_LD_QUOTA_BLOCK.NEXTVAL;
		rcContratosBloqueo.Block 			:= 'Y';
		rcContratosBloqueo.Subscription_Id 	:= rcContratos.susccodi;
		rcContratosBloqueo.Causal_Id 		:= 130;
		rcContratosBloqueo.Register_Date 	:= LDC_BOCONSGENERALES.FDTGETSYSDATE;
		rcContratosBloqueo.Observation 		:= 'Se bloquea cupo por seguridad, facturas de la localidad Sabanagrande fueron hurtadas. Petición área comercial FNB';
		rcContratosBloqueo.Username			:= PKG_SESSION.GETUSER;
		rcContratosBloqueo.Terminal			:= PKG_SESSION.FSBGETTERMINAL;
		
		DALD_quota_block.insRecord(rcContratosBloqueo);
		
		COMMIT;		
		
	END LOOP;	
	
	dbms_output.put_line('FIN Datafix OSF-4085');
	
END;
/

select to_char(sysdate,'yyyy-mm-dd hh:mi:ss p.m.') fecha_fin from dual;
set serveroutput off
quit
/