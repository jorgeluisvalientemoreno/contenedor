CREATE OR REPLACE PROCEDURE      "PROCCREAINDPAGOSMIG" (ini number,fin number, pbd number) is
sbsql varchar2(800);
begin
  UPDATE migr_rango_procesos set raprfein=sysdate,raprterm='P' where raprcodi=2001 and raprbase=pbd and raprrain=INI and raprrafi=FIn; 
  COMMIT;   
  execute immediate 'CREATE INDEX OPEN.IX_PAGOS01 ON OPEN.PAGOS (PAGOTDCO) 
  PCTFREE 0 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_BASICA';
  execute immediate 'CREATE INDEX OPEN.IX_PAGOS02 ON OPEN.PAGOS (PAGONUTR) 
  PCTFREE 20 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_SUSCRIPC';
  execute immediate 'CREATE INDEX OPEN.IX_PAGOS03 ON OPEN.PAGOS (PAGONUFI) 
  PCTFREE 20 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_SUSCRIPC';
  execute immediate 'CREATE INDEX OPEN.IX_PAGOS05 ON OPEN.PAGOS (PAGONUTR, PAGOFEPA) 
  PCTFREE 5 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_FACTURA';
  execute immediate 'CREATE INDEX OPEN.IX_PAGOS06 ON OPEN.PAGOS (PAGOSUSC) 
  PCTFREE 0 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_BASICA';
  execute immediate 'CREATE INDEX OPEN.IX_PAGOS07 ON OPEN.PAGOS (PAGOCONC) 
  PCTFREE 0 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_BASICA';
  execute immediate 'CREATE INDEX OPEN.IX_PAGOS09 ON OPEN.PAGOS (PAGOBANC, PAGOSUBA, PAGOFEPA) 
  PCTFREE 5 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_RECAUDOS';
  execute immediate 'CREATE INDEX OPEN.IX_PAGOS11 ON OPEN.PAGOS (TRUNC(PAGOFEGR), PAGOCUPO) 
  PCTFREE 5 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_RECAUDOS';
  execute immediate 'CREATE INDEX OPEN.IX_PAGOS12 ON OPEN.PAGOS (PAGOBANC, PAGOSUBA) 
  PCTFREE 5 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_RECAUDOS';
  execute immediate 'CREATE INDEX OPEN.IX_PAGO_FEPA ON OPEN.PAGOS (PAGOFEPA, PAGOCUPO) 
  PCTFREE 5 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_SUSCRIPC';
  execute immediate 'CREATE INDEX OPEN.IX_PAGO_SUSC ON OPEN.PAGOS (PAGOSUSC, PAGOFEPA) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 16384 NEXT 8192 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE TSI_SUSCRIPC';
  UPDATE migr_rango_procesos set raprfefi=sysdate,raprterm='T' where raprcodi=2001 and raprbase=pbd and raprrain=INI and raprrafi=FIn;    
  commit;
end proccreaindpagosmig; 
/
