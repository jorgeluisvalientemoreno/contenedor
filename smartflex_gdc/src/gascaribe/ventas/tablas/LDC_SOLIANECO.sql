DECLARE
  nuconta number;
BEGIN
  SELECT COUNT(1) INTO nuconta
  FROM DBA_TABLES
  WHERE TABLE_NAME = 'LDC_SOLIANECO';
  
  IF nuconta = 0 THEN  
	EXECUTE IMMEDIATE 'CREATE TABLE LDC_SOLIANECO( SOLICITUD NUMBER(15),
													PRODUCTO NUMBER(15),
													DIRECCION NUMBER(15),
													FECHA_REGISTRO DATE,
													USUARIO_REGISTRA  VARCHAR2(500),
													TERMINAL_REGISTRA VARCHAR2(200),
													ESTADO VARCHAR2(1) DEFAULT ''P'',
													FECHA_PROCESADO DATE,
													USUARIO_PROCESA  VARCHAR2(500),
													TERMINAL_PROCESA VARCHAR2(200))';
													
	EXECUTE IMMEDIATE 'CREATE INDEX IDX_CON01SOLIANECO ON LDC_SOLIANECO (SOLICITUD)';
	EXECUTE IMMEDIATE 'CREATE INDEX IDX_CON02SOLIANECO ON LDC_SOLIANECO (SOLICITUD, DIRECCION)';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.SOLICITUD IS ''SOLICITUD''';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.PRODUCTO IS ''PRODUCTO''';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.DIRECCION IS ''DIRECCION''';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.FECHA_REGISTRO IS ''FECHA DE REGISTRO''';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.USUARIO_REGISTRA IS ''USUARIO REGISTRA''';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.TERMINAL_REGISTRA IS ''TERMINAL REGISTRA''';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.ESTADO IS ''ESTADO P - PENDIENTE T - TERMINADO''';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.FECHA_PROCESADO IS ''FECHA DE PROCESADO''';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.USUARIO_PROCESA IS ''USUARIO QUE PROCESA''';
	EXECUTE IMMEDIATE 'COMMENT ON COLUMN LDC_SOLIANECO.TERMINAL_PROCESA IS ''TERMINAL QUE PROCESA''';
	EXECUTE IMMEDIATE 'COMMENT ON TABLE LDC_SOLIANECO IS ''SOLICITUD DE ANULACION DE VENTAS''';

  	
  END IF;
  
  EXECUTE immediate 'grant select, insert, delete, update on LDC_SOLIANECO to SYSTEM_OBJ_PRIVS_ROLE';
  EXECUTE immediate 'grant select, insert, delete, update on LDC_SOLIANECO to robebrcon';
  execute immediate 'grant select on LDC_SOLIANECO to RSELOPEN';
  execute immediate 'grant select on LDC_SOLIANECO to reportes';
	

END;
/