DECLARE
  NUCANTIDAD NUMBER;
BEGIN

  SELECT COUNT(1) INTO NUCANTIDAD
  FROM HOMOLOGACION_SERVICIOS HS
  WHERE UPPER(HS.SERVICIO_DESTINO) = UPPER('PKG_BOGESTION_FINANCIACION.PRCFINANCIARPORSOLICITUD');

  IF NUCANTIDAD = 0 THEN
    INSERT INTO HOMOLOGACION_SERVICIOS
      (ESQUEMA_ORIGEN,
       SERVICIO_ORIGEN,
       DESCRIPCION_ORIGEN,
       ESQUEMA_DESTINO,
       SERVICIO_DESTINO,
       DESCRIPCION_DESTINO,
       OBSERVACION)
    VALUES
      ('OPEN',
       UPPER('CC_BOFINANCING.FINANCINGORDER'),
       'Financiar mediante una solicitud',
       'ADM_PERSON',
       UPPER('PKG_BOGESTION_FINANCIACION.PRCFINANCIARPORSOLICITUD'),
       'Financiar mediante una solicitud',
       NULL);

    COMMIT;
    DBMS_OUTPUT.put_line('El servicio destino PKG_BOGESTION_FINANCIACION.PRCFINANCIARPORSOLICITUD fue homologado al servicio origen CC_BOFINANCING.FINANCINGORDER de forma exisosa');
  ELSE
    DBMS_OUTPUT.put_line('El servicio destino PKG_BOGESTION_FINANCIACION.PRCFINANCIARPORSOLICITUD ya fue homologado a un servicio origen.');
  END IF;

EXCEPTION
  WHEN OTHERS THEN
    ROLLBACK;
    DBMS_OUTPUT.put_line('El servicio destino PKG_BOGESTION_FINANCIACION.PRCFINANCIARPORSOLICITUD ya fue homologado a un servicio origen.');
END;
/
