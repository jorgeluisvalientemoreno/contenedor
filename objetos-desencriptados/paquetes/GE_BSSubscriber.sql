PACKAGE BODY GE_BSSubscriber AS

    






















































    
    
    
    
    CSBVERSION  CONSTANT UT_DATATYPES.STYSAOVERSION  := 'SAO524890';
    
    
    CNUIDENTIFICATIONISNULL CONSTANT NUMBER(15) := 4065;
    
    CNUSUBSCRIBERNAMEISNULL CONSTANT NUMBER(15) := 4103;
    
    CNUSUBSCRIBERTYPEISNULL CONSTANT NUMBER(15) := 111104;
    
    CNUIDENTTYPEISNULL CONSTANT NUMBER(15) := 111105;

    
    
    
    









    FUNCTION FSBVERSION  RETURN UT_DATATYPES.STYSAOVERSION IS
    BEGIN
        RETURN CSBVERSION;
    END;

     











    PROCEDURE INITIALIZEOUTPUTVARIABLES
    (
        ONUERRORCODE OUT GE_MESSAGE.MESSAGE_ID%TYPE,
        OSBERRORTEXT OUT VARCHAR2
    )
    IS
    BEGIN
         ONUERRORCODE := GE_BOCONSTANTS.CNUSUCCESS;
         OSBERRORTEXT := GE_BOCONSTANTS.CSBNOMESSAGE;
    END;
	

    











































    PROCEDURE REGISTER
    (
        ICLDATA         IN          CLOB,
        OCLRESPONSE     OUT NOCOPY  CLOB,
        ONUERRORCODE    OUT NOCOPY  NUMBER,
        OSBERRORMESSAGE OUT NOCOPY  VARCHAR2
    )
    IS
    BEGIN
    UT_TRACE.TRACE('BEGIN GE_BSSubscriber.Register',15);
        
        
        
        INITIALIZEOUTPUTVARIABLES(ONUERRORCODE,OSBERRORMESSAGE );

        
        GE_BOSUBSCRIBER.WRITEXMLSUBSCRIBER(ICLDATA, OCLRESPONSE);

        IF(ONUERRORCODE = 0) THEN
            OSBERRORMESSAGE := '-';
        END IF;
        
    UT_TRACE.TRACE('END GE_BSSubscriber.Register',15);
	EXCEPTION
		WHEN EX.CONTROLLED_ERROR THEN
			ERRORS.GETERROR(ONUERRORCODE, OSBERRORMESSAGE);
		WHEN OTHERS THEN
			ERRORS.SETERROR;
			ERRORS.GETERROR(ONUERRORCODE, OSBERRORMESSAGE);
    END REGISTER;

    



































    PROCEDURE UPDSUBSCRIBER
    (
        ICLDATA         IN          CLOB,
        ONUERRORCODE    OUT NOCOPY  NUMBER,
        OSBERRORMESSAGE OUT NOCOPY  VARCHAR2
    )
    IS
    BEGIN
    UT_TRACE.TRACE('BEGIN GE_BSSubscriber.UpdSubscriber',15);
        INITIALIZEOUTPUTVARIABLES(ONUERRORCODE,OSBERRORMESSAGE );
    
        GE_BOSUBSCRIBER.CUSTOMERUPDATE(ICLDATA);
        
        IF (ONUERRORCODE = 0) THEN
            OSBERRORMESSAGE := '-';
        END IF;
        
    UT_TRACE.TRACE('END GE_BSSubscriber.UpdSubscriber',15);
	EXCEPTION
		WHEN EX.CONTROLLED_ERROR THEN
			ERRORS.GETERROR(ONUERRORCODE, OSBERRORMESSAGE);
		WHEN OTHERS THEN
			ERRORS.SETERROR;
			ERRORS.GETERROR(ONUERRORCODE, OSBERRORMESSAGE);
    END UPDSUBSCRIBER;
END GE_BSSUBSCRIBER;