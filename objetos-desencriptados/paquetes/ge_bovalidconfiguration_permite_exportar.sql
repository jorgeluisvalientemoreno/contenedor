CREATE OR REPLACE PACKAGE BODY GE_BOVALIDCONFIGURATION IS
   CSBVERSION CONSTANT VARCHAR2( 20 ) := 'SAO170061';
   CNUERRCANNOTMODIFY CONSTANT NUMBER( 15 ) := 901335;
   FUNCTION FSBVERSION
    RETURN VARCHAR2
    IS
    BEGIN
      RETURN CSBVERSION;
   END;
   FUNCTION FSBGETLEVELEXECUTABLE( ISBEXECUTABLENAME IN SA_EXECUTABLE.NAME%TYPE )
    RETURN VARCHAR2
    IS
    BEGIN
      CASE
         WHEN UPPER( ISBEXECUTABLENAME ) IN ( CSBPSCRE, CSBPSCPR, CSBWFCWF, CSBFCED, CSBPSCAD ) THEN
            RETURN GE_BOVALIDCONFIGURATION.CSBLEVELINDUSTRYDATA;
         WHEN UPPER( ISBEXECUTABLENAME ) IN ( CSBCCCAE, CSBCCCCR, CSBCNDPC, CSBCCPPR, CSBCCGSC ) THEN
            RETURN GE_BOVALIDCONFIGURATION.CSBLEVELCLIENTDATA;
         ELSE
            RETURN NULL;
      END CASE;
    EXCEPTION
      WHEN EX.CONTROLLED_ERROR THEN
         RAISE EX.CONTROLLED_ERROR;
      WHEN OTHERS THEN
         ERRORS.SETERROR;
         RAISE EX.CONTROLLED_ERROR;
   END FSBGETLEVELEXECUTABLE;
   PROCEDURE CANMODIFYEXECUTABLE( ISBEXECUTABLE IN SA_EXECUTABLE.NAME%TYPE )
    IS
      SBINSTANCETYPE VARCHAR2( 50 ) := UT_DBINSTANCE.FSBGETCURRENTINSTANCETYPE;
    BEGIN
      CASE
         WHEN FSBGETLEVELEXECUTABLE( ISBEXECUTABLE ) = GE_BOVALIDCONFIGURATION.CSBLEVELINDUSTRYDATA THEN
            IF ( SBINSTANCETYPE IS NULL OR SBINSTANCETYPE NOT IN ( UT_DBINSTANCE.FSBGETDEVELOPMENTINSTANCE, UT_DBINSTANCE.FSBGETCONFIGURATIONINSTANCE, UT_DBINSTANCE.FSBGETDEVANDCONFIGINSTANCE ) ) THEN
               GE_BOERRORS.SETERRORCODEARGUMENT( CNUERRCANNOTMODIFY, 'crear/modificar configuracion' );
            END IF;
         WHEN FSBGETLEVELEXECUTABLE( ISBEXECUTABLE ) = GE_BOVALIDCONFIGURATION.CSBLEVELCLIENTDATA THEN
            IF ( SBINSTANCETYPE IS NULL OR SBINSTANCETYPE NOT IN ( UT_DBINSTANCE.FSBGETDEVELOPMENTINSTANCE, UT_DBINSTANCE.FSBGETCONFIGURATIONINSTANCE, UT_DBINSTANCE.FSBGETDEVANDCONFIGINSTANCE, UT_DBINSTANCE.FSBGETQUALITYINSTANCE, UT_DBINSTANCE.FSBGETTRAININGINSTANCE, UT_DBINSTANCE.FSBGETACCEPTANCEINSTANCE, UT_DBINSTANCE.FSBGETSUPPORTINSTANCE ) ) THEN
               GE_BOERRORS.SETERRORCODEARGUMENT( CNUERRCANNOTMODIFY, 'crear/modificar configuracion' );
            END IF;
         ELSE
            RETURN;
      END CASE;
    EXCEPTION
      WHEN EX.CONTROLLED_ERROR THEN
         RAISE EX.CONTROLLED_ERROR;
      WHEN OTHERS THEN
         ERRORS.SETERROR;
         RAISE EX.CONTROLLED_ERROR;
   END CANMODIFYEXECUTABLE;
   PROCEDURE CANEXPORTCONFIGEXEC( ISBEXECUTABLE IN SA_EXECUTABLE.NAME%TYPE )
    IS
      SBINSTANCETYPE VARCHAR2( 50 ) := UT_DBINSTANCE.FSBGETCURRENTINSTANCETYPE;
    BEGIN
      
            RETURN;
    
    EXCEPTION
      WHEN EX.CONTROLLED_ERROR THEN
         RAISE EX.CONTROLLED_ERROR;
      WHEN OTHERS THEN
         ERRORS.SETERROR;
         RAISE EX.CONTROLLED_ERROR;
   END CANEXPORTCONFIGEXEC;
END GE_BOVALIDCONFIGURATION;
/


