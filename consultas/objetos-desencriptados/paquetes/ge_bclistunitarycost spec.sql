PACKAGE GE_BCListUnitaryCost IS































































	
	
	TYPE TYRCPRICELISTS IS RECORD
	(
        NULISTUNITARYCOSTID       GE_LIST_UNITARY_COST.LIST_UNITARY_COST_ID%TYPE
    );
	TYPE TYTBPRICELISTS IS TABLE OF TYRCPRICELISTS INDEX BY BINARY_INTEGER;

    











    CURSOR CUPRICELISTOPERUNINOTNULL IS
    SELECT GE_LIST_UNITARY_COST.LIST_UNITARY_COST_ID, GE_LIST_UNITARY_COST.OPERATING_UNIT_ID
      FROM  GE_LIST_UNITARY_COST
     WHERE GE_LIST_UNITARY_COST.OPERATING_UNIT_ID IS NOT NULL
       AND   TRUNC(GE_LIST_UNITARY_COST.VALIDITY_FINAL_DATE) >= TRUNC(SYSDATE)
    ORDER BY  GE_LIST_UNITARY_COST.VALIDITY_START_DATE;
    
    










    CURSOR CUCOSTLISTTODATE(INULISTID IN GE_LIST_UNITARY_COST.LIST_UNITARY_COST_ID%TYPE,
                            IDTDATE IN GE_LIST_UNITARY_COST.VALIDITY_FINAL_DATE%TYPE)
    IS
    SELECT LIST_UNITARY_COST_ID
    FROM   GE_LIST_UNITARY_COST
    WHERE  LIST_UNITARY_COST_ID = INULISTID
    AND    TRUNC(VALIDITY_FINAL_DATE) >= TRUNC(IDTDATE);
    
    

















    CURSOR CUOPERATINGUNITCOSTLISTDATES
    (
         INUOPERUNITID    IN  GE_LIST_UNITARY_COST.OPERATING_UNIT_ID%TYPE
    )
    IS
    SELECT /*+ index(GE_LIST_UNITARY_COST IDX_GE_LIST_UNITARY_COST05)*/
           TRUNC(GE_LIST_UNITARY_COST.VALIDITY_START_DATE) VALIDITY_START_DATE,
           TRUNC(GE_LIST_UNITARY_COST.VALIDITY_FINAL_DATE) VALIDITY_FINAL_DATE
      FROM GE_LIST_UNITARY_COST
           
     WHERE GE_LIST_UNITARY_COST.OPERATING_UNIT_ID = INUOPERUNITID;


    












    CURSOR CUCONTRACTCOSTLISTDATES
    (
         INUCONTRACTID    IN  GE_LIST_UNITARY_COST.CONTRACT_ID%TYPE
    )
    IS
    SELECT /*+ index(GE_LIST_UNITARY_COST IDX_GE_LIST_UNITARY_COST02)*/
            TRUNC(GE_LIST_UNITARY_COST.VALIDITY_START_DATE) VALIDITY_START_DATE,
            TRUNC(GE_LIST_UNITARY_COST.VALIDITY_FINAL_DATE) VALIDITY_FINAL_DATE
      FROM  GE_LIST_UNITARY_COST
            
     WHERE  GE_LIST_UNITARY_COST.CONTRACT_ID = INUCONTRACTID;
     
   












    CURSOR CUCONTRACTORCOSTLISTDATES
    (
         INUCONTRACTORID    IN  GE_LIST_UNITARY_COST.CONTRACTOR_ID%TYPE
    )
    IS
    SELECT /*+ index(GE_LIST_UNITARY_COST IDX_GE_LIST_UNITARY_COST04)*/
            TRUNC(GE_LIST_UNITARY_COST.VALIDITY_START_DATE) VALIDITY_START_DATE,
            TRUNC(GE_LIST_UNITARY_COST.VALIDITY_FINAL_DATE) VALIDITY_FINAL_DATE
      FROM  GE_LIST_UNITARY_COST
            
     WHERE  GE_LIST_UNITARY_COST.CONTRACTOR_ID = INUCONTRACTORID;
     
   












    CURSOR CUGEOLOCATIONCOSTLISTDATES
    (
         INUGEOLOCID    IN  GE_LIST_UNITARY_COST.GEOGRAP_LOCATION_ID%TYPE
    )
    IS
    SELECT /*+ index(GE_LIST_UNITARY_COST IDX_GE_LIST_UNITARY_COST03)*/
            TRUNC(GE_LIST_UNITARY_COST.VALIDITY_START_DATE) VALIDITY_START_DATE,
            TRUNC(GE_LIST_UNITARY_COST.VALIDITY_FINAL_DATE) VALIDITY_FINAL_DATE
      FROM  GE_LIST_UNITARY_COST
      
     WHERE  GE_LIST_UNITARY_COST.GEOGRAP_LOCATION_ID = INUGEOLOCID;

    



















    CURSOR CUGENERICCOSTLISTDATES
    IS
    SELECT /*+ index(GE_LIST_UNITARY_COST IDX_GE_LIST_UNITARY_COST01)*/
           TRUNC(GE_LIST_UNITARY_COST.VALIDITY_START_DATE) VALIDITY_START_DATE,
           TRUNC(GE_LIST_UNITARY_COST.VALIDITY_FINAL_DATE) VALIDITY_FINAL_DATE
      FROM GE_LIST_UNITARY_COST
           
     WHERE GE_LIST_UNITARY_COST.OPERATING_UNIT_ID IS NULL
       AND GE_LIST_UNITARY_COST.CONTRACT_ID IS NULL
       AND GE_LIST_UNITARY_COST.CONTRACTOR_ID IS NULL
       AND GE_LIST_UNITARY_COST.GEOGRAP_LOCATION_ID IS NULL ;

    FUNCTION FSBVERSION  RETURN VARCHAR2;


    




    FUNCTION FNUGETGENERICPRICELIST
    (
         IDTASSIGNED IN GE_LIST_UNITARY_COST.VALIDITY_START_DATE%TYPE DEFAULT NULL
    )
    RETURN GE_LIST_UNITARY_COST.LIST_UNITARY_COST_ID%TYPE;
    
    
    




    FUNCTION FNUGETVALIDPRLSTBYOPERUNIT
    (
         INUOPERUNIT IN GE_LIST_UNITARY_COST.OPERATING_UNIT_ID%TYPE,
         IDTASSIGNED IN GE_LIST_UNITARY_COST.VALIDITY_START_DATE%TYPE
    )
    RETURN GE_LIST_UNITARY_COST.LIST_UNITARY_COST_ID%TYPE;
    
    





    PROCEDURE GETPRICELISTOPERUNIORGEN
    (
        INUOPERATINGUNITID  IN  GE_LIST_UNITARY_COST.OPERATING_UNIT_ID%TYPE,
        INUCONTRACTID       IN  GE_LIST_UNITARY_COST.CONTRACT_ID%TYPE,
        INUCONTRACTORID     IN  GE_LIST_UNITARY_COST.CONTRACTOR_ID%TYPE,
        INUGEOLOCID         IN  GE_LIST_UNITARY_COST.GEOGRAP_LOCATION_ID%TYPE,
        IDTDATE             IN  GE_LIST_UNITARY_COST.VALIDITY_FINAL_DATE%TYPE,
        OTBPRCLISTITEM     OUT  TYTBPRICELISTS,
        ONUCOUNT           OUT  NUMBER
    );

    



    PROCEDURE GETVALIDPRLST
    (
        INUOPERATINGUNITID  IN  GE_LIST_UNITARY_COST.OPERATING_UNIT_ID%TYPE,
        INUCONTRACTID       IN  GE_LIST_UNITARY_COST.CONTRACT_ID%TYPE,
        INUCONTRACTORID     IN  GE_LIST_UNITARY_COST.CONTRACTOR_ID%TYPE,
        INUGEOLOCID         IN  GE_LIST_UNITARY_COST.GEOGRAP_LOCATION_ID%TYPE,
        IDTASSIGNED         IN  GE_LIST_UNITARY_COST.VALIDITY_START_DATE%TYPE,
        ORFOUTPUT           IN  OUT NOCOPY CONSTANTS.TYREFCURSOR
    );
    
    



    PROCEDURE GETPRICELISTING
    (
        INUOPERATINGUNITID    IN      GE_LIST_UNITARY_COST.OPERATING_UNIT_ID%TYPE,
        INUCONTRACTID         IN      GE_LIST_UNITARY_COST.CONTRACT_ID%TYPE,
        INUCONTRACTORID       IN      GE_LIST_UNITARY_COST.CONTRACTOR_ID%TYPE,
        INUGEOLOCID           IN      GE_LIST_UNITARY_COST.GEOGRAP_LOCATION_ID%TYPE,
        ORFOUTPUT IN OUT NOCOPY CONSTANTS.TYREFCURSOR
    );

    



    PROCEDURE GETALLPRICELISTING
    (
        ORFOUTPUT IN OUT NOCOPY CONSTANTS.TYREFCURSOR
    );
    
    
    




	PROCEDURE GETLSTPRICITEMVAL
    (
        INULSTPRIC      IN  GE_LIST_UNITARY_COST.LIST_UNITARY_COST_ID%TYPE,
        ORFOUTPUT IN OUT NOCOPY CONSTANTS.TYREFCURSOR
    );
    
    




	FUNCTION FNUGETNPRICELISTBYRANGE
    (
        INUOPERATINGUNITID          IN      GE_LIST_UNITARY_COST.OPERATING_UNIT_ID%TYPE,
        INUCONTRACTID               IN      GE_LIST_UNITARY_COST.CONTRACT_ID%TYPE,
        INUCONTRACTORID             IN      GE_LIST_UNITARY_COST.CONTRACTOR_ID%TYPE,
        INUGEOLOCID                 IN      GE_LIST_UNITARY_COST.GEOGRAP_LOCATION_ID%TYPE,
        IDTVALIDITYSTARTDATE        IN      GE_LIST_UNITARY_COST.VALIDITY_START_DATE%TYPE,
        IDTVALIDITYFINALDATE        IN      GE_LIST_UNITARY_COST.VALIDITY_FINAL_DATE%TYPE,
        INULIST_UNITARY_COST_ID     IN      GE_LIST_UNITARY_COST.LIST_UNITARY_COST_ID%TYPE := NULL
    )
    RETURN NUMBER;
    
END GE_BCLISTUNITARYCOST;