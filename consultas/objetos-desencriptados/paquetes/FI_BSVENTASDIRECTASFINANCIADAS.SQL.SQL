
CREATE OR REPLACE PACKAGE FI_BSVENTASDIRECTASFINANCIADAS IS
   FUNCTION FSBVERSION
    RETURN VARCHAR2;
   PROCEDURE REGISTRAR( INUPRODUCTO IN SERVSUSC.SESUNUSE%TYPE, INUPLANDIFE IN PLANDIFE.PLDICODI%TYPE, INUDIFENUCU IN DIFERIDO.DIFENUCU%TYPE, ISBDOCUSOPO IN CARGOS.CARGDOSO%TYPE, ITBCARGOS IN FI_BOVENTASDIRECTASFINANCIADAS.TYTBCARGOS, ISBDIFEPROG IN DIFERIDO.DIFEPROG%TYPE, ONUDIFECOFI OUT DIFERIDO.DIFECOFI%TYPE, ONUCODIGOERROR OUT GE_ERROR_LOG.ERROR_LOG_ID%TYPE, OSBMENSAJEERROR OUT GE_ERROR_LOG.DESCRIPTION%TYPE );
END FI_BSVENTASDIRECTASFINANCIADAS;
/


CREATE OR REPLACE PACKAGE BODY FI_BSVENTASDIRECTASFINANCIADAS IS
   SBERRMSG GE_ERROR_LOG.DESCRIPTION%TYPE;
   CSBVERSION CONSTANT VARCHAR2( 10 ) := 'SAO87077';
   FUNCTION FSBVERSION
    RETURN VARCHAR2
    IS
    BEGIN
      PKERRORS.PUSH( 'FI_BSVentasDirectasFinanciadas.fsbVersion' );
      PKERRORS.POP;
      RETURN ( CSBVERSION );
    EXCEPTION
      WHEN LOGIN_DENIED OR PKCONSTANTE.EXERROR_LEVEL2 THEN
         PKERRORS.POP;
         RAISE;
      WHEN OTHERS THEN
         PKERRORS.NOTIFYERROR( PKERRORS.FSBLASTOBJECT, SQLERRM, SBERRMSG );
         PKERRORS.POP;
         RAISE_APPLICATION_ERROR( PKCONSTANTE.NUERROR_LEVEL2, SBERRMSG );
   END FSBVERSION;
   PROCEDURE REGISTRAR( INUPRODUCTO IN SERVSUSC.SESUNUSE%TYPE, INUPLANDIFE IN PLANDIFE.PLDICODI%TYPE, INUDIFENUCU IN DIFERIDO.DIFENUCU%TYPE, ISBDOCUSOPO IN CARGOS.CARGDOSO%TYPE, ITBCARGOS IN FI_BOVENTASDIRECTASFINANCIADAS.TYTBCARGOS, ISBDIFEPROG IN DIFERIDO.DIFEPROG%TYPE, ONUDIFECOFI OUT DIFERIDO.DIFECOFI%TYPE, ONUCODIGOERROR OUT GE_ERROR_LOG.ERROR_LOG_ID%TYPE, OSBMENSAJEERROR OUT GE_ERROR_LOG.DESCRIPTION%TYPE )
    IS
      PROCEDURE INICIALIZAR
       IS
       BEGIN
         PKERRORS.PUSH( 'FI_BSVentasDirectasFinanciadas.Registrar.Inicializar' );
         PKERRORS.GETERRORVAR( ONUCODIGOERROR, OSBMENSAJEERROR, PKCONSTANTE.INITIALIZE );
         PKERRORS.POP;
       EXCEPTION
         WHEN LOGIN_DENIED OR PKCONSTANTE.EXERROR_LEVEL2 THEN
            PKERRORS.POP;
            RAISE;
      END INICIALIZAR;
    BEGIN
      PKERRORS.PUSH( 'FI_BSVentasDirectasFinanciadas.Registrar' );
      INICIALIZAR;
      FI_BOVENTASDIRECTASFINANCIADAS.REGISTRAR( INUPRODUCTO, INUPLANDIFE, INUDIFENUCU, ISBDOCUSOPO, ITBCARGOS, ISBDIFEPROG, ONUDIFECOFI );
      PKERRORS.POP;
    EXCEPTION
      WHEN LOGIN_DENIED OR PKCONSTANTE.EXERROR_LEVEL2 THEN
         PKERRORS.POP;
         PKERRORS.GETERRORVAR( ONUCODIGOERROR, OSBMENSAJEERROR );
      WHEN OTHERS THEN
         PKERRORS.NOTIFYERROR( PKERRORS.FSBLASTOBJECT, SQLERRM, OSBMENSAJEERROR );
         PKERRORS.POP;
         PKERRORS.GETERRORVAR( ONUCODIGOERROR, OSBMENSAJEERROR );
   END REGISTRAR;
END FI_BSVENTASDIRECTASFINANCIADAS;
/


