PACKAGE GE_BOSubscriber AS

    































































































































































































































































































































































































    
    
    CSBRESIDENTPERSON   CONSTANT    UT_DATATYPES.STYTOKEN       :=  'R';
    CSBBUSINESSPERSON   CONSTANT    UT_DATATYPES.STYTOKEN       :=  'B';
    CSBCC_VALIDATE_CPNI CONSTANT    UT_DATATYPES.STYTOKEN       :=  'CC_VALIDATE_CPNI';

    
    CNUERROR917642              CONSTANT GE_MESSAGE.MESSAGE_ID%TYPE := 917642;
    
    CNUERROR917643              CONSTANT GE_MESSAGE.MESSAGE_ID%TYPE := 917643;
    
    CNUERROR917644              CONSTANT GE_MESSAGE.MESSAGE_ID%TYPE := 917644;
    
    CNUERROR917645              CONSTANT GE_MESSAGE.MESSAGE_ID%TYPE := 917645;
    
    
    CNUPERSONALEMAIL            CONSTANT GE_MESSAGE.MESSAGE_ID%TYPE := 36592;
    
    
    
    
    
    SUBTYPE STYSBCLIENT     IS VARCHAR2(500);

    SUBTYPE STYBOOL         IS BOOLEAN;

    SUBTYPE STYNUMBER       IS NUMBER;

    TYPE TYRCSUBSCHANGES IS RECORD
    (
        SBATTRIBUTENAME     GE_DATA_CHANGE_LOG.ENTITY_NAME%TYPE,
        SBNEWVALUE          GE_DATA_CHANGE_LOG.NEW_VALUE%TYPE,
        SBOLDVALUE          GE_DATA_CHANGE_LOG.PREVIOUS_VALUE%TYPE
    );

    TYPE TYTBFIELDS IS TABLE OF TYRCSUBSCHANGES INDEX BY BINARY_INTEGER;
    
    
    TYPE TYRCFIELDTOVALID  IS RECORD
    (
        SBENTITYNAME        GE_DATA_CHANGE_LOG.ENTITY_NAME%TYPE,
        SBATTRIBUTENAME     GE_DATA_CHANGE_LOG.ATTRIBUTE_NAME%TYPE
    );

    TYPE TYTBFIELDTOVALID IS TABLE OF TYRCFIELDTOVALID INDEX BY VARCHAR2(2000);

    
    
    
    
    CNUCORPORAT_CUSTOMER    CONSTANT GE_SUBSCRIBER_TYPE.SUBSCRIBER_TYPE_ID%TYPE := 3;

    CNUCLIENTE_NULO         CONSTANT GE_MESSAGE.MESSAGE_ID%TYPE := 8112;
    CNUCLIENTE_NULO_APP     CONSTANT GE_MESSAGE.MESSAGE_ID%TYPE := 10318;

    
    CNUDEFIDENTTYPE         CONSTANT GE_IDENTIFICA_TYPE.IDENT_TYPE_ID%TYPE := -1;
    
    
    
    
    



    FUNCTION FSBVERSION  RETURN UT_DATATYPES.STYSAOVERSION;

    PROCEDURE GETSUBSCRIBER
    (
        INUSUBSCRIBER_ID    IN  GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        ORCSUBSCRIBER       OUT NOCOPY DAGE_SUBSCRIBER.STYGE_SUBSCRIBER
    );

    FUNCTION GETSUBSCRIBERID
    (
      INUIDENTIFICA_TYPE  GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
      ISBIDENTIFICATION   GE_SUBSCRIBER.IDENTIFICATION%TYPE
    )
        RETURN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE;

    FUNCTION VALIDIDENTIFICATION
    (
     ISBIDENTIFICATION  IN GE_SUBSCRIBER.IDENTIFICATION%TYPE,
     INUIDENT_TYPE_ID   IN GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
     ONUSUBSCRIBER_ID   OUT GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    )
    RETURN BOOLEAN;

    
    TYPE TYRCPHONE   IS RECORD
    (
        NUPHONETYPE     GE_SUBS_PHONE.PHONE_TYPE_ID%TYPE,
        NUCOUNTRY       GE_SUBS_PHONE.COUNTRY_LOCATION_ID%TYPE,
        SBAREACODE      GE_SUBS_PHONE.AREA_CODE%TYPE,
        SBPHONENUMBER   GE_SUBS_PHONE.FULL_PHONE_NUMBER%TYPE
    );

    
    TYPE TYTBPHONE IS TABLE OF TYRCPHONE INDEX BY UT_DATATYPES.STYNUMBERINDEX;

    
    TYPE TYRCEMAIL   IS RECORD
    (
        NUEMAILTYPE     GE_SUBS_EMAIL.TYPE_ID%TYPE,
        SBEMAIL         GE_SUBS_EMAIL.EMAIL%TYPE
    );

    
    TYPE TYTBEMAIL IS TABLE OF TYRCEMAIL INDEX BY UT_DATATYPES.STYNUMBERINDEX;
    
	

    




    PROCEDURE CREATESUBSCRIBER
    (
        INUIDENTTYPEID      IN  GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        ISBIDENTIFICATION   IN  GE_SUBSCRIBER.IDENTIFICATION%TYPE,
        INUSUBSCRIBERTYPEID IN  GE_SUBSCRIBER.SUBSCRIBER_TYPE_ID%TYPE,
        ISBSUBSCRIBERNAME   IN  GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE,
        ISBSUBSLASTNAME     IN  GE_SUBSCRIBER.SUBS_LAST_NAME%TYPE,
        ISBPHONE            IN  GE_SUBSCRIBER.PHONE%TYPE,
        INUPHONETYPE        IN  GE_PHONE_TYPE.PHONE_TYPE_ID%TYPE,
        ISBEMAIL            IN  GE_SUBS_EMAIL.EMAIL%TYPE,
        INUEMAILTYPE        IN  GE_SUBS_EMAIL.TYPE_ID%TYPE,
        ONUSUBSCRIBERID     OUT GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        ISBCONTACTADDRESS   IN  GE_SUBSCRIBER.ADDRESS%TYPE DEFAULT NULL,
        ISBMARKETINGSEGMENT IN  GE_SUBSCRIBER.MARKETING_SEGMENT_ID%TYPE DEFAULT NULL,
        IBLSIMULATE         IN  UT_DATATYPES.STYBOOLEAN DEFAULT FALSE
    );

    








    PROCEDURE REGISTER
    (
        IONUSUBSCRIBER_ID       IN OUT GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        INUIDENT_TYPE_ID        IN GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        ISBIDENTIFICATION       IN GE_SUBSCRIBER.IDENTIFICATION%TYPE,
        INUPARENT_SUBSCRIBER_ID IN GE_SUBSCRIBER.PARENT_SUBSCRIBER_ID%TYPE,
        INUSUBSCRIBER_TYPE_ID   IN GE_SUBSCRIBER.SUBSCRIBER_TYPE_ID%TYPE,
        ISBADDRESS              IN GE_SUBSCRIBER.ADDRESS%TYPE,
        ISBPHONE                IN GE_SUBS_PHONE.FULL_PHONE_NUMBER%TYPE,
        INUPHONETYPE            IN GE_PHONE_TYPE.PHONE_TYPE_ID%TYPE,
        ISBSUBSCRIBER_NAME      IN GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE,
        ISBSUBS_LAST_NAME       IN GE_SUBSCRIBER.SUBS_LAST_NAME%TYPE,
        ISBE_MAIL               IN GE_SUBS_EMAIL.EMAIL%TYPE,
        INUE_MAILTYPE           IN GE_SUBS_EMAIL.TYPE_ID%TYPE,
        ISBURL                  IN GE_SUBSCRIBER.URL%TYPE,
        ISBCONTACT_PHONE        IN GE_SUBS_PHONE.FULL_PHONE_NUMBER%TYPE,
        INUCONTACT_PHONETYPE    IN GE_PHONE_TYPE.PHONE_TYPE_ID%TYPE,
        ISBCONTACT_ADDRESS      IN GE_SUBSCRIBER.ADDRESS%TYPE,
        ISBCONTACT_NAME         IN GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE,
        INUCONTACT_IDENT_TYPE   IN GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        ISBCONTACT_IDENT        IN GE_SUBSCRIBER.IDENTIFICATION%TYPE,
        INUMARKETING_SEGMENT_ID IN GE_SUBSCRIBER.MARKETING_SEGMENT_ID%TYPE,
        INUSUBS_STATUS_ID       IN GE_SUBSCRIBER.SUBS_STATUS_ID%TYPE DEFAULT 1,
        IBOVALIDDATA            IN STYBOOL DEFAULT TRUE,
        INUADDRESSID            IN AB_ADDRESS.ADDRESS_ID%TYPE DEFAULT NULL,
        IDTDATE_BIRTH           IN GE_SUBS_GENERAL_DATA.DATE_BIRTH%TYPE DEFAULT NULL,
        INUCONTACT_ADDRESSID    IN GE_SUBSCRIBER.ADDRESS_ID%TYPE DEFAULT NULL,
        ISBSEX                  IN GE_SUBS_GENERAL_DATA.GENDER%TYPE DEFAULT NULL,
        INUECONOMIC_ACTIVITY_ID IN GE_SUBS_BUSINES_DATA.ECONOMIC_ACTIVITY_ID%TYPE DEFAULT NULL,
        INUTAXPAYER_TYPE_ID     IN GE_SUBSCRIBER.TAXPAYER_TYPE%TYPE DEFAULT NULL,
        INULANGUAGEPREFE        IN ST_LANGUAGES.ID%TYPE DEFAULT NULL,
        ISBPREFIX               IN GE_SUBSCRIBER.SUBS_PREFIX%TYPE DEFAULT NULL,
        ISBSUBSFIRSTNAME        IN GE_SUBSCRIBER.SUBS_FIRST_NAME%TYPE DEFAULT NULL,
        ISBSUBSSECONDNAME       IN GE_SUBSCRIBER.SUBS_SECOND_NAME%TYPE DEFAULT NULL,
        ISBSUBSFIRSTLASTNAME    IN GE_SUBSCRIBER.SUBS_FIRST_LAST_NAME%TYPE DEFAULT NULL,
        ISBSUBSSECONDLASTNAME   IN GE_SUBSCRIBER.SUBS_SECOND_LAST_NAME%TYPE DEFAULT NULL,
        ISBSUFFIX               IN GE_SUBSCRIBER.SUBS_SUFFIX%TYPE DEFAULT NULL
    );

    








    PROCEDURE UPDSUBSCRIBER
    (
        INUSUBSCRIBER_ID        IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        INUIDENT_TYPE_ID        IN GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        ISBIDENTIFICATION       IN GE_SUBSCRIBER.IDENTIFICATION%TYPE,
        INUPARENT_SUBSCRIBER_ID IN GE_SUBSCRIBER.PARENT_SUBSCRIBER_ID%TYPE,
        INUSUBSCRIBER_TYPE_ID   IN GE_SUBSCRIBER.SUBSCRIBER_TYPE_ID%TYPE,
        INUADDRESSID            IN GE_SUBSCRIBER.ADDRESS_ID%TYPE,
        INUGEOGRALOCATIONID     IN AB_ADDRESS.GEOGRAP_LOCATION_ID%TYPE,
        ISBADDRESS              IN AB_ADDRESS.ADDRESS%TYPE,
        ISBISURBAN              IN AB_ADDRESS.IS_URBAN%TYPE,
        ISBPHONE                IN GE_SUBS_PHONE.FULL_PHONE_NUMBER%TYPE,
        INUPHONETYPE            IN GE_PHONE_TYPE.PHONE_TYPE_ID%TYPE,
        ISBSUBSCRIBER_NAME      IN GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE,
        ISBSUBS_LAST_NAME       IN GE_SUBSCRIBER.SUBS_LAST_NAME%TYPE,
        ISBE_MAIL               IN GE_SUBS_EMAIL.EMAIL%TYPE,
        INUE_MAILTYPE           IN GE_SUBS_EMAIL.TYPE_ID%TYPE,
        ISBURL                  IN GE_SUBSCRIBER.URL%TYPE,
        INUCONTACTID            IN GE_SUBSCRIBER.CONTACT_ID%TYPE,
        INUMARKETING_SEGMENT_ID IN GE_SUBSCRIBER.MARKETING_SEGMENT_ID%TYPE,
        INUSUBS_STATUS_ID       IN GE_SUBSCRIBER.SUBS_STATUS_ID%TYPE,
        ISBSEX                  IN GE_SUBS_GENERAL_DATA.GENDER%TYPE,
        IDTBIRTHDATE            IN GE_SUBS_GENERAL_DATA.DATE_BIRTH%TYPE,
        IBOVALIDDATA            IN STYBOOL DEFAULT TRUE,
        ISBCONTACT_PHONE        IN GE_SUBS_PHONE.FULL_PHONE_NUMBER%TYPE DEFAULT NULL,
        INUCONTACT_PHONETYPE    IN GE_PHONE_TYPE.PHONE_TYPE_ID%TYPE DEFAULT NULL,
        ISBCONTACT_NAME         IN GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE DEFAULT NULL,
        INUCONTACT_IDENT_TYPE   IN GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE DEFAULT NULL,
        ISBCONTACT_IDENT        IN GE_SUBSCRIBER.IDENTIFICATION%TYPE DEFAULT NULL,
        INUPACKAGEID            IN GE_DATA_CHANGE_LOG.PACKAGE_ID%TYPE DEFAULT NULL,
        ISBCONTACTLASTNAME      IN GE_SUBSCRIBER.SUBS_LAST_NAME%TYPE DEFAULT NULL,
        INUECONOMICACTIVITYID   IN GE_SUBSCRIBER.ECONOMIC_ACTIVITY_ID%TYPE DEFAULT NULL,
        INUTAXPAYERTYPEID       IN GE_SUBSCRIBER.TAXPAYER_TYPE%TYPE DEFAULT NULL,
        INUBIRTHLOCATIONID      IN GE_GEOGRA_LOCATION.GEOGRAP_LOCATION_ID%TYPE DEFAULT NULL,
        INUDOCPLACEISSUE        IN GE_SUBSCRIBER.DOC_PLACE_OF_ISSUE%TYPE DEFAULT NULL,
        IDTDOCDATEISSUE         IN GE_SUBSCRIBER.DOC_DATE_OF_ISSUE%TYPE DEFAULT NULL,
        ISBFAXNUMBER            IN GE_SUBSCRIBER.PHONE%TYPE DEFAULT NULL,
        ISBRESIDENT             IN GE_SUBS_HOUSING_DATA.RESIDENT%TYPE DEFAULT NULL,
        INUSCHOOLDEGREEID       IN GE_SUBS_GENERAL_DATA.SCHOOL_DEGREE_ID%TYPE DEFAULT NULL,
        INUPROFESSIONID         IN GE_SUBS_GENERAL_DATA.PROFESSION_ID%TYPE DEFAULT NULL,
        INUWAGESCALEID          IN GE_SUBS_GENERAL_DATA.WAGE_SCALE_ID%TYPE DEFAULT NULL,
        INUDEBITSCALEID         IN GE_SUBS_GENERAL_DATA.DEBIT_SCALE_ID%TYPE DEFAULT NULL,
        INUCIVILSTATEID         IN GE_SUBS_GENERAL_DATA.CIVIL_STATE_ID%TYPE DEFAULT NULL,
        ISBRUT                  IN GE_SUBS_FISCAL_DATA.RUT%TYPE DEFAULT NULL,
        ISBSELFCOLLECTORFLAG    IN GE_SUBS_FISCAL_DATA.SELF_COLLECTOR_FLAG%TYPE DEFAULT NULL,
        IDTBEGACTDATE           IN GE_SUBS_BUSINES_DATA.BEGINNING_ACTIVITIES%TYPE DEFAULT NULL,
        ISBNATIONALITY          IN GE_SUBS_GENERAL_DATA.NATIONALITY%TYPE DEFAULT NULL,
        ISBDATASEND             IN GE_SUBSCRIBER.DATA_SEND%TYPE DEFAULT NULL,
        ISBACCEPTCALL           IN GE_SUBSCRIBER.ACCEPT_CALL%TYPE DEFAULT NULL,
        INUAUTHORIZATIONTYPEID  IN GE_SUBSCRIBER.AUTHORIZATION_TYPE%TYPE DEFAULT NULL,
        ISBOLDOPERATOR          IN GE_SUBS_GENERAL_DATA.OLD_OPERATOR%TYPE DEFAULT NULL,
        ISBCOMMENT              IN GE_SUBS_GENERAL_DATA.COMMENT_%TYPE DEFAULT NULL,
        ISBISCORPORATIVE        IN GE_SUBSCRIBER.IS_CORPORATIVE%TYPE DEFAULT NULL,
        INUDISABILITYPERCENT    IN GE_SUBSCRIBER.DISABILITY_PERCENT%TYPE DEFAULT NULL,
        INUDISABILITYTYPEID     IN GE_SUBSCRIBER.DISABILITY_TYPE_ID%TYPE DEFAULT NULL,
        INULANGUAGEID           IN GE_SUBSCRIBER.LANGUAGE%TYPE DEFAULT NULL,
        ISBPREFIX               IN GE_SUBSCRIBER.SUBS_PREFIX%TYPE DEFAULT NULL,
        ISBSUBSFIRSTNAME        IN GE_SUBSCRIBER.SUBS_FIRST_NAME%TYPE DEFAULT NULL,
        ISBSUBSSECONDNAME       IN GE_SUBSCRIBER.SUBS_SECOND_NAME%TYPE DEFAULT NULL,
        ISBSUBSFIRSTLASTNAME    IN GE_SUBSCRIBER.SUBS_FIRST_LAST_NAME%TYPE DEFAULT NULL,
        ISBSUBSSECONDLASTNAME   IN GE_SUBSCRIBER.SUBS_SECOND_LAST_NAME%TYPE DEFAULT NULL,
        ISBSUFFIX               IN GE_SUBSCRIBER.SUBS_SUFFIX%TYPE DEFAULT NULL,
        ISBCONTPREFIX           IN GE_SUBSCRIBER.SUBS_PREFIX%TYPE DEFAULT NULL,
        ISBCONTFIRSTNAME        IN GE_SUBSCRIBER.SUBS_FIRST_NAME%TYPE DEFAULT NULL,
        ISBCONTSECONDNAME       IN GE_SUBSCRIBER.SUBS_SECOND_NAME%TYPE DEFAULT NULL,
        ISBCONTFIRSTLASTNAME    IN GE_SUBSCRIBER.SUBS_FIRST_LAST_NAME%TYPE DEFAULT NULL,
        ISBCONTSECONDLASTNAME   IN GE_SUBSCRIBER.SUBS_SECOND_LAST_NAME%TYPE DEFAULT NULL,
        ISBCONTACTSUFFIX        IN GE_SUBSCRIBER.SUBS_SUFFIX%TYPE DEFAULT NULL
    );


    FUNCTION FBOISCORPORATE (
        INUSUBSCRIBERID     IN  GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    ) RETURN BOOLEAN ;

    


















  
	

    PROCEDURE VAL_DUP_IDENT (
        INUIDENT_TYPE_ID     IN  GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        INUIDENTIFICATION     IN  GE_SUBSCRIBER.IDENTIFICATION%TYPE
    ) ;

    PROCEDURE VALIDATESUBSCRIBERNULL
    (
        INUSUBSCRIBER   IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    );
    PROCEDURE VALIDATESUBSNULLAPP
    (
       INUSUBSCRIBER	IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    );
    PROCEDURE VALBASICDATA
    (
        INUSUBSCRIBER	IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    );

    PROCEDURE VALCUSTWITHBALANCE
  (
    INUCLIETIDI     IN     GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
    ISBCLIENITC     IN     GE_SUBSCRIBER.IDENTIFICATION%TYPE,
    ONUERRORCODE        OUT MENSAJE.MENSCODI%TYPE,
    OSBERRORMESSAGE     OUT NOCOPY MENSAJE.MENSDESC%TYPE
  ) ;
  
   
	
    
   
	

    








    FUNCTION FSBGETFULLNAME
    (
        INUSUBSCRIBERID IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    )
    RETURN VARCHAR2;
    
    FUNCTION FSBGETNAME
	(
		INUSUBSCRIBER_ID IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
	)
	RETURN VARCHAR2;

	

	

	

    




































    PROCEDURE CREATECONTACT
    (
        IONUCONTACTID         IN OUT  GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        ISBSUBSCRIBERNAME     IN GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE,
        ISBSUBSLASTNAME       IN GE_SUBSCRIBER.SUBS_LAST_NAME%TYPE,
        ISBADDRESS            IN GE_SUBSCRIBER.ADDRESS%TYPE,
        ISBPHONE              IN GE_SUBS_PHONE.FULL_PHONE_NUMBER%TYPE,
        INUPHONETYPE          IN GE_PHONE_TYPE.PHONE_TYPE_ID%TYPE,
        INUIDENTTYPEID        IN GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        ISBIDENTIFICATION     IN GE_SUBSCRIBER.IDENTIFICATION%TYPE,
        INUSUBSTATUSID        IN GE_SUBSCRIBER.SUBS_STATUS_ID%TYPE DEFAULT 1,
        INUADDRESSID          IN GE_SUBSCRIBER.ADDRESS_ID%TYPE DEFAULT NULL,
        ISBPREFIX             IN GE_SUBSCRIBER.SUBS_PREFIX%TYPE DEFAULT NULL,
        ISBSUBSFIRSTNAME      IN GE_SUBSCRIBER.SUBS_FIRST_NAME%TYPE DEFAULT NULL,
        ISBSUBSSECONDNAME     IN GE_SUBSCRIBER.SUBS_SECOND_NAME%TYPE DEFAULT NULL,
        ISBSUBSFIRSTLASTNAME  IN GE_SUBSCRIBER.SUBS_FIRST_LAST_NAME%TYPE DEFAULT NULL,
        ISBSUBSSECONDLASTNAME IN GE_SUBSCRIBER.SUBS_SECOND_LAST_NAME%TYPE DEFAULT NULL,
        ISBSUFFIX             IN GE_SUBSCRIBER.SUBS_SUFFIX%TYPE DEFAULT NULL
    );
    
    













    FUNCTION FSBGETMARKETINGSEGMENT
    (
        INUSUBSCRIBERID     IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    )
    RETURN CC_MARKETING_SEGMENT.DESCRIPTION%TYPE;
    
    












     FUNCTION FSBGETIDENTBYCONTRACT
    (
        INUCONTRACT     SUSCRIPC.SUSCCODI%TYPE
    )
    RETURN  GE_SUBSCRIBER.IDENTIFICATION%TYPE;


    












    
    FUNCTION FSBGETCLIENTNAMEBYCONTRACT
    (
        INUCONTRACT     SUSCRIPC.SUSCCODI%TYPE
    )
    RETURN  VARCHAR2;
    

    












    
    
	
    
    
    














   
	
    
     
















   
	
    
    






















    FUNCTION FNUGETACTIVETIME
    (
        INUSUBSCRIBERID   IN PM_TARGET_POPULAT.PROJECT_ID%TYPE
    )
    RETURN NUMBER;

    









	PROCEDURE SETLASTUPDATE
    (
        INUSUBSCRIBERID IN GE_SUBS_GENERAL_DATA.SUBSCRIBER_ID%TYPE,
        IDTLASTUPDATE   IN GE_SUBS_GENERAL_DATA.LAST_UPDATE%TYPE DEFAULT UT_DATE.FDTSYSDATE
    );
    
    


















    FUNCTION GETIDENTYPEIDBYSUBSID
    (
        INUSUBSCRIBERID IN GE_SUBS_GENERAL_DATA.SUBSCRIBER_ID%TYPE

    ) RETURN NUMBER;

   





    PROCEDURE GETSUBSCRIBERBYADDRESSID
    (
        INUADDRESSID    IN AB_ADDRESS.ADDRESS_ID%TYPE,
        ONUSUBSCRIBERID OUT GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    );
    
    



    PROCEDURE INSUPDSUBSADDDATA
    (
        INUSUBSCRIBERID     IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        ISBOLDOPERATOR      IN GE_SUBS_GENERAL_DATA.OLD_OPERATOR%TYPE,
        ISBCOMPANY          IN GE_SUBS_WORK_RELAT.COMPANY%TYPE,
        ISBTITLE            IN GE_SUBS_WORK_RELAT.TITLE%TYPE,
        INUPERSONQUANTITY   IN GE_SUBS_HOUSING_DATA.PERSON_QUANTITY%TYPE
     );
     
    




   
	
    
    




    PROCEDURE SETSUBSCRIBERSTATUS
    (
        INUSUBSCRIBERID     IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        INUPACKAGEID        IN  MO_PACKAGES.PACKAGE_ID%TYPE DEFAULT NULL
    );
    
    

















    PROCEDURE UPDSUBSDATAADDITIONAL
    (
        INUSUBSCRIBERID     IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        INUIDENTTYPEID      IN GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        ISBIDENTIFICATION   IN GE_SUBSCRIBER.IDENTIFICATION%TYPE,
        ISBNAME             IN GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE,
        ISBLASTNAME         IN GE_SUBSCRIBER.SUBS_LAST_NAME%TYPE,
        ISBEMAIL            IN GE_SUBS_EMAIL.EMAIL%TYPE,
        ISBOLDOPERATOR      IN GE_SUBS_GENERAL_DATA.OLD_OPERATOR%TYPE,
        ISBCOMPANY          IN GE_SUBS_WORK_RELAT.COMPANY%TYPE,
        ISBTITLE            IN GE_SUBS_WORK_RELAT.TITLE%TYPE,
        INUPERSONQUANTITY   IN GE_SUBS_HOUSING_DATA.PERSON_QUANTITY%TYPE,
        INUPACKAGEID        IN GE_DATA_CHANGE_LOG.PACKAGE_ID%TYPE
    );
    
    














    
    PROCEDURE UPDSUBSDATAADDITIONPII
    (

        INUSUBSCRIBERID     IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        ISBEMAIL            IN GE_SUBS_EMAIL.EMAIL%TYPE,
        ISBOLDOPERATOR      IN GE_SUBS_GENERAL_DATA.OLD_OPERATOR%TYPE,
        ISBCOMPANY          IN GE_SUBS_WORK_RELAT.COMPANY%TYPE,
        ISBTITLE            IN GE_SUBS_WORK_RELAT.TITLE%TYPE,
        INUPERSONQUANTITY   IN GE_SUBS_HOUSING_DATA.PERSON_QUANTITY%TYPE,
        INUPACKAGEID        IN GE_DATA_CHANGE_LOG.PACKAGE_ID%TYPE
    );
    





    FUNCTION FNUECONOMICACTIVITYID
    (
        INUSUBSCRIBERID IN  GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    ) RETURN GE_SUBS_BUSINES_DATA.ECONOMIC_ACTIVITY_ID%TYPE;
    

    






    PROCEDURE CUSTOMERUPDATE
    (
        ICLCUSTOMERINFO IN  CLOB
    );
    
    





    PROCEDURE REGISTER
    (
        ICLCUSTOMERINFO         IN  CLOB,
        ONUSUBSCRIBER_ID        OUT GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    );
    
    





    PROCEDURE INSERTADDRESS
    (
        IONUADDRESSID           IN OUT  AB_ADDRESS.ADDRESS_ID%TYPE,
        INUGEOGRALOCATIONID     IN  AB_ADDRESS.GEOGRAP_LOCATION_ID%TYPE,
        ISBADDRESS              IN  AB_ADDRESS.ADDRESS%TYPE,
        ISBISURBAN              IN  AB_ADDRESS.IS_URBAN%TYPE
    );

    FUNCTION FNUGETSUBSCRIBERTYPE
    (
        INUSUBSCRIBER   IN  GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    )
    RETURN GE_SUBSCRIBER.SUBSCRIBER_TYPE_ID%TYPE;
    
    




    PROCEDURE SETTAXPAYERAUTHO
    (
        INUSUBSCRIBERID     IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        INUTAXPAYERID       IN GE_SUBSCRIBER.TAXPAYER_TYPE%TYPE,
        INUAUTHOID          IN GE_SUBSCRIBER.AUTHORIZATION_TYPE%TYPE,
        INUPACKAGEID        IN GE_DATA_CHANGE_LOG.PACKAGE_ID%TYPE DEFAULT NULL
    );

    







    PROCEDURE VALIDCHANGESUBSDDATA
    (
        INUPACKAGEID        IN  MO_PACKAGES.PACKAGE_ID%TYPE,
        ORFFIELDSVALUE      OUT NOCOPY CONSTANTS.TYREFCURSOR
    );
    
    






    PROCEDURE NOTIFSUBSCHGBYREQUEST
    (
        INUPACKAGEID        IN  MO_PACKAGES.PACKAGE_ID%TYPE
    );
    

    







    PROCEDURE CHANGESUBSDDATA
    (
        ORFFIELDSVALUE      OUT NOCOPY CONSTANTS.TYREFCURSOR
    );
    

    





    PROCEDURE INITCHANGEPACKAGE
    (
        INUPACKAGEID   IN   MO_PACKAGES.PACKAGE_ID%TYPE DEFAULT NULL
    );




    





    PROCEDURE VALCOMMERCIALNAME
    (
        INUSUBSCRIBERID IN  GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        ISBTRADENAME    IN  GE_SUBS_BUSINES_DATA.TRADE_NAME%TYPE,
        OSBYERORNOT     OUT UT_DATATYPES.STYYESORNO
    );
    
    




    PROCEDURE VALSUBSCRIBERBYINFO
    (
        SBPERSONTYPE        IN  UT_DATATYPES.STYMINVARCHAR,
        INUIDENTTYPEID      IN  GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        INUIDENTIFICATION   IN  GE_SUBSCRIBER.IDENTIFICATION%TYPE,
        ISBSUBSCRIBERNAME   IN  GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE,
        ISBSUBSLASTNAME     IN  GE_SUBSCRIBER.SUBS_LAST_NAME%TYPE,
        IDTDATEBIRTH        IN  GE_SUBS_GENERAL_DATA.DATE_BIRTH%TYPE
    );

    





    PROCEDURE VALREQUIREDINFO
    (
        ISBPERSONTYPE         IN  UT_DATATYPES.STYMINVARCHAR,
        ISBSUBSCRIBERNAME     IN  GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE,
        ISBSUBSLASTNAME       IN  GE_SUBSCRIBER.SUBS_LAST_NAME%TYPE,
        ISBTRADENAME          IN  GE_SUBS_BUSINES_DATA.TRADE_NAME%TYPE,
        INUIDENTYPEID         IN  GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        INUIDENTIFICATION     IN  GE_SUBSCRIBER.IDENTIFICATION%TYPE,
        ISBPHONE              IN  GE_SUBS_PHONE.FULL_PHONE_NUMBER%TYPE,
        IDTDATEBIRTH          IN  GE_SUBS_GENERAL_DATA.DATE_BIRTH%TYPE,
        INUPREVIOUSADDRESS    IN  AB_ADDRESS.ADDRESS_ID%TYPE,
        INUBILLINGADDRESS     IN  AB_ADDRESS.ADDRESS_ID%TYPE,
        ISBSUBSFIRSTNAME      IN  GE_SUBSCRIBER.SUBS_FIRST_NAME%TYPE,
        ISBSUBSFIRSTLASTNAME  IN  GE_SUBSCRIBER.SUBS_FIRST_LAST_NAME%TYPE,
        IBOUPDATECUSTOMER     IN  UT_DATATYPES.STYBOOLEAN DEFAULT FALSE
    );

    





    PROCEDURE NOTIFCHANGEVERIFCODE
    (
        INUSUBSCRIBERID        IN  GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    );
    
    





    PROCEDURE GENEVERICODEANDNOTIF
    (
        INUSUBSCRIBERID IN GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE
    );
    
    





    PROCEDURE VALEQUALCUSTOMER
    (
        INUSUBSCRIBERID     IN  GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        ISBSUBSCRIBERNAME   IN  GE_SUBSCRIBER.SUBSCRIBER_NAME%TYPE,
        ISBSUBSLASTNAME     IN  GE_SUBSCRIBER.SUBS_LAST_NAME%TYPE,
        IDTDATEBIRTH        IN  GE_SUBS_GENERAL_DATA.DATE_BIRTH%TYPE
    );
    
    



    PROCEDURE WRITEXMLSUBSCRIBER
    (
        ICLCUSTOMERINFO IN  CLOB,
        OCLRESPONSE     OUT CLOB
    );
    
    




    PROCEDURE VALIDATEDUPLICATEID
    (
        INUSUBSCRIBERID     IN  GE_SUBSCRIBER.SUBSCRIBER_ID%TYPE,
        INUIDENTYPEID       IN  GE_SUBSCRIBER.IDENT_TYPE_ID%TYPE,
        ISBIDENTIFICATION   IN  GE_SUBSCRIBER.IDENTIFICATION%TYPE
    );

END GE_BOSUBSCRIBER;