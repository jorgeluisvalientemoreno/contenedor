CREATE OR REPLACE PROCEDURE OS_REGISTERNEWCHARGE( INUOPERATINGUNIT IN OR_OPERATING_UNIT.OPERATING_UNIT_ID%TYPE, INUITEMSID IN CT_ITEM_NOVELTY.ITEMS_ID%TYPE, INUPERSONID IN SA_USER.USER_ID%TYPE, INUORDERID IN OR_ORDER.ORDER_ID%TYPE, INUVALUEREF IN NUMBER, INUAMOUNT IN NUMBER, INUOBSERVTYPE IN GE_COMMENT_TYPE.COMMENT_TYPE_ID%TYPE, ISBOBSERVATION IN OR_ORDER_COMMENT.ORDER_COMMENT%TYPE, ONUERRORCODE OUT GE_ERROR_LOG.ERROR_LOG_ID%TYPE, OSBERRORMESSAGE OUT GE_ERROR_LOG.DESCRIPTION%TYPE )
 IS
 BEGIN
   CT_BSNOVELTY.REGISTERNEWCHARGE( INUOPERUNIT=>INUOPERATINGUNIT, INUITEM=>INUITEMSID, INUTECUNIT=>INUPERSONID, INUORDERID=>INUORDERID, INUVALUE=>INUVALUEREF, INUAMOUNT=>INUAMOUNT, INUUSERID=>NULL, INUCOMMENTYPE=>INUOBSERVTYPE, ISBCOMMENT=>ISBOBSERVATION, ONUERRORCODE=>ONUERRORCODE, OSBERRORMESSAGE=>OSBERRORMESSAGE );
 EXCEPTION
   WHEN EX.CONTROLLED_ERROR THEN
      ERRORS.GETERROR( ONUERRORCODE, OSBERRORMESSAGE );
   WHEN OTHERS THEN
      ERRORS.SETERROR;
      ERRORS.GETERROR( ONUERRORCODE, OSBERRORMESSAGE );
END OS_REGISTERNEWCHARGE;
/


